# Project Rules for AI Assistant

## File Placement & Organization
1. **Temporary Files**: Use the project `tmp/` directory for scratchpads, debug scripts, or temporary data. Do NOT place them in `src/`.
3. **Source Code**: Only move files to `src/` after they have been verified.
4. **Generated Code**: Place generated code (e.g., from MCP tools, models, controllers) in the `src/generated/` directory. This allows for easy cleanup and valid imports.

## MCP & Code Generation
1. **Check Environment First**: Before generating any database-related code, **ALWAYS** check the `.env` file for `DB_TYPE`.
   - If `DB_TYPE=mongo`, use `get-mongoose-prompt`.
   - If `DB_TYPE=mysql` (or missing), use `get-sequelize-prompt`.
2. **Tool Usage**: When using MCP tools, strictly follow the directory instructions defined in the tool's prompt/template.
3. **Prioritize MCP**: Always check available MCP tools (e.g., `get-sequelize-prompt`, `get-mongoose-prompt`, `get-antd-prompt`, `list-collections`, `get-collection-schema`) FIRST before writing code manually or using other methods. If a relevant MCP tool exists, use it.
4. **Cleanup**: Always clean up temporary files created during debugging sessions once the issue is resolved. This includes any test files created in `test/` (e.g., `test/api.test.ts`) that were used for verification but are not part of the permanent test suite.
5. **Best Practices**:
   - **Avoid Complex One-Liners**: Do not use `npx tsx -e` for complex database operations involving imports. Module resolution in eval mode is fragile.
   - **Prefer MCP Tools**: Always prioritize using built-in MCP tools (like `list-collections`) over running ad-hoc scripts.
